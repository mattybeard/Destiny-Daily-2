@model DestinyDaily2.Controllers.PrisonModel

@foreach (var prison in Model.Legacy)
{
    var currentRound = 1;
    <div style="text-align:center; width:100%;">
    <h3 style="margin-top:0px;">@prison.manifestactivity.name</h3>
    <br />
    <h4 style="width:100%;">
        @prison.manifestactivity.desc
    </h4>
    <table class="table table-striped table-hover table-bordered table-poe" style="width: 70%; margin: 0 auto;">
        <thead>
            <tr>
                <th>Round</th>
                <th>Race</th>
                <th>Modifiers</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var round in prison.prisonofeldersrounds)
            {
                <tr>
                    <td>Round @(currentRound++)</td>
                    <td>@round.prisonofeldersraces.First().Race.name</td>
                    <td>
                        <table style="width: 100%; margin: 0 auto;">
                            @foreach (var modifier in round.prisonofeldersmodifiers)
                            {
                                <tr>
                                    @*<td style="width: 40%"><img src="@String.Format("/Content/Images/Modifiers/{0}.png", modifier.modifier.name.ToLower().Replace(" ", ""))"></td>*@
                                    <td style="border-top: none;">@modifier.modifier.name</td>
                                </tr>
                            }
                        </table>
                    </td>
                </tr>
            }

        @*@for (int i = 0; i < 6; i++)
        {
            var rounds = prison.prisonofeldersdifficulties.ToArray();
            if (i == 5)
            {
                if (rounds.Count() > 5)
                {
                    <tr>
                        <td colspan="2">Skola's Revenge</td>
                        <td>
                            <table style="width: 100%; margin: 0 auto;">
                                @foreach (var modifier in rounds[i].prisonofeldersmodifiers)
                                {
                                    <tr>
                                        <td style="width: 40%"><img src="@String.Format("/Content/Images/Modifiers/{0}.png", modifier.modifier.name.ToLower().Replace(" ", ""))"></td>
                                        <td>@modifier.modifier.name</td>
                                    </tr>
                                }
                            </table>
                        </td>
                    </tr>
                }
            }
            else
            {
                <tr>
                    <td>Round @(i + 1)</td>
                    <td>@rounds[i].prisonofeldersraces.First().race.name</td>
                    <td>
                        <table style="width: 100%; margin: 0 auto;">
                            @foreach (var modifier in rounds[i].prisonofeldersmodifiers)
                            {
                                <tr>
                                    <td style="width: 40%"><img src="@String.Format("/Content/Images/Modifiers/{0}.png", modifier.modifier.name.ToLower().Replace(" ", ""))"></td>
                                    <td>@modifier.modifier.name</td>
                                </tr>
                            }
                        </table>
                    </td>
                </tr>
            }

        }*@
        </tbody>
    </table>
    <br /><br />
</div>
}